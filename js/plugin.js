// build time:Sun Sep 11 2022 21:36:39 GMT+0800 (香港标准时间)
(function(p){p.fn.qrcode=function(u){var e;function r(t){this.mode=e;this.data=t}function f(t,r){this.typeNumber=t;this.errorCorrectLevel=r;this.modules=null;this.moduleCount=0;this.dataCache=null;this.dataList=[]}function c(t,r){if(void 0==t.length)throw Error(t.length+"/"+r);for(var e=0;e<t.length&&0==t[e];)e++;this.num=Array(t.length-e+r);for(var o=0;o<t.length-e;o++)this.num[o]=t[o+e]}function l(t,r){this.totalCount=t;this.dataCount=r}function s(){this.buffer=[];this.length=0}r.prototype={getLength:function(){return this.data.length},write:function(t){for(var r=0;r<this.data.length;r++)t.put(this.data.charCodeAt(r),8)}};f.prototype={addData:function(t){this.dataList.push(new r(t));this.dataCache=null},isDark:function(t,r){if(0>t||this.moduleCount<=t||0>r||this.moduleCount<=r)throw Error(t+","+r);return this.modules[t][r]},getModuleCount:function(){return this.moduleCount},make:function(){if(1>this.typeNumber){for(var t=1,t=1;40>t;t++){for(var r=l.getRSBlocks(t,this.errorCorrectLevel),e=new s,o=0,i=0;i<r.length;i++)o+=r[i].dataCount;for(i=0;i<this.dataList.length;i++)r=this.dataList[i],e.put(r.mode,4),e.put(r.getLength(),g.getLengthInBits(r.mode,t)),r.write(e);if(e.getLengthInBits()<=8*o)break}this.typeNumber=t}this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,r){this.moduleCount=4*this.typeNumber+17;this.modules=Array(this.moduleCount);for(var e=0;e<this.moduleCount;e++){this.modules[e]=Array(this.moduleCount);for(var o=0;o<this.moduleCount;o++)this.modules[e][o]=null}this.setupPositionProbePattern(0,0);this.setupPositionProbePattern(this.moduleCount-7,0);this.setupPositionProbePattern(0,this.moduleCount-7);this.setupPositionAdjustPattern();this.setupTimingPattern();this.setupTypeInfo(t,r);7<=this.typeNumber&&this.setupTypeNumber(t);null==this.dataCache&&(this.dataCache=f.createData(this.typeNumber,this.errorCorrectLevel,this.dataList));this.mapData(this.dataCache,r)},setupPositionProbePattern:function(t,r){for(var e=-1;7>=e;e++)if(!(-1>=t+e||this.moduleCount<=t+e))for(var o=-1;7>=o;o++)-1>=r+o||this.moduleCount<=r+o||(this.modules[t+e][r+o]=0<=e&&6>=e&&(0==o||6==o)||0<=o&&6>=o&&(0==e||6==e)||2<=e&&4>=e&&2<=o&&4>=o?!0:!1)},getBestMaskPattern:function(){for(var t=0,r=0,e=0;8>e;e++){this.makeImpl(!0,e);var o=g.getLostPoint(this);if(0==e||t>o)t=o,r=e}return r},createMovieClip:function(t,r,e){t=t.createEmptyMovieClip(r,e);this.make();for(r=0;r<this.modules.length;r++)for(var e=1*r,o=0;o<this.modules[r].length;o++){var i=1*o;this.modules[r][o]&&(t.beginFill(0,100),t.moveTo(i,e),t.lineTo(i+1,e),t.lineTo(i+1,e+1),t.lineTo(i,e+1),t.endFill())}return t},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=0==t%2);for(t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=0==t%2)},setupPositionAdjustPattern:function(){for(var t=g.getPatternPosition(this.typeNumber),r=0;r<t.length;r++)for(var e=0;e<t.length;e++){var o=t[r],i=t[e];if(null==this.modules[o][i])for(var n=-2;2>=n;n++)for(var s=-2;2>=s;s++)this.modules[o+n][i+s]=-2==n||2==n||-2==s||2==s||0==n&&0==s?!0:!1}},setupTypeNumber:function(t){for(var r=g.getBCHTypeNumber(this.typeNumber),e=0;18>e;e++){var o=!t&&1==(r>>e&1);this.modules[Math.floor(e/3)][e%3+this.moduleCount-8-3]=o}for(e=0;18>e;e++)o=!t&&1==(r>>e&1),this.modules[e%3+this.moduleCount-8-3][Math.floor(e/3)]=o},setupTypeInfo:function(t,r){for(var e=g.getBCHTypeInfo(this.errorCorrectLevel<<3|r),o=0;15>o;o++){var i=!t&&1==(e>>o&1);6>o?this.modules[o][8]=i:8>o?this.modules[o+1][8]=i:this.modules[this.moduleCount-15+o][8]=i}for(o=0;15>o;o++)i=!t&&1==(e>>o&1),8>o?this.modules[8][this.moduleCount-o-1]=i:9>o?this.modules[8][15-o-1+1]=i:this.modules[8][15-o-1]=i;this.modules[this.moduleCount-8][8]=!t},mapData:function(t,r){for(var e=-1,o=this.moduleCount-1,i=7,n=0,s=this.moduleCount-1;0<s;s-=2)for(6==s&&s--;;){for(var h=0;2>h;h++)if(null==this.modules[o][s-h]){var a=!1;n<t.length&&(a=1==(t[n]>>>i&1));g.getMask(r,o,s-h)&&(a=!a);this.modules[o][s-h]=a;i--;-1==i&&(n++,i=7)}o+=e;if(0>o||this.moduleCount<=o){o-=e;e=-e;break}}}};f.PAD0=236;f.PAD1=17;f.createData=function(t,r,e){for(var r=l.getRSBlocks(t,r),o=new s,i=0;i<e.length;i++){var n=e[i];o.put(n.mode,4);o.put(n.getLength(),g.getLengthInBits(n.mode,t));n.write(o)}for(i=t=0;i<r.length;i++)t+=r[i].dataCount;if(o.getLengthInBits()>8*t)throw Error("code length overflow. ("+o.getLengthInBits()+">"+8*t+")");for(o.getLengthInBits()+4<=8*t&&o.put(0,4);0!=o.getLengthInBits()%8;)o.putBit(!1);for(;!(o.getLengthInBits()>=8*t);){o.put(f.PAD0,8);if(o.getLengthInBits()>=8*t)break;o.put(f.PAD1,8)}return f.createBytes(o,r)};f.createBytes=function(t,r){for(var e=0,o=0,i=0,n=Array(r.length),s=Array(r.length),h=0;h<r.length;h++){var a=r[h].dataCount,u=r[h].totalCount-a,o=Math.max(o,a),i=Math.max(i,u);n[h]=Array(a);for(var f=0;f<n[h].length;f++)n[h][f]=255&t.buffer[f+e];e+=a;f=g.getErrorCorrectPolynomial(u);a=new c(n[h],f.getLength()-1).mod(f);s[h]=Array(f.getLength()-1);for(f=0;f<s[h].length;f++)u=f+a.getLength()-s[h].length,s[h][f]=0<=u?a.get(u):0}for(f=h=0;f<r.length;f++)h+=r[f].totalCount;e=Array(h);for(f=a=0;f<o;f++)for(h=0;h<r.length;h++)f<n[h].length&&(e[a++]=n[h][f]);for(f=0;f<i;f++)for(h=0;h<r.length;h++)f<s[h].length&&(e[a++]=s[h][f]);return e};e=4;for(var g={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var r=t<<10;0<=g.getBCHDigit(r)-g.getBCHDigit(g.G15);)r^=g.G15<<g.getBCHDigit(r)-g.getBCHDigit(g.G15);return(t<<10|r)^g.G15_MASK},getBCHTypeNumber:function(t){for(var r=t<<12;0<=g.getBCHDigit(r)-g.getBCHDigit(g.G18);)r^=g.G18<<g.getBCHDigit(r)-g.getBCHDigit(g.G18);return t<<12|r},getBCHDigit:function(t){for(var r=0;0!=t;)r++,t>>>=1;return r},getPatternPosition:function(t){return g.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,r,e){switch(t){case 0:return 0==(r+e)%2;case 1:return 0==r%2;case 2:return 0==e%3;case 3:return 0==(r+e)%3;case 4:return 0==(Math.floor(r/2)+Math.floor(e/3))%2;case 5:return 0==r*e%2+r*e%3;case 6:return 0==(r*e%2+r*e%3)%2;case 7:return 0==(r*e%3+(r+e)%2)%2;default:throw Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var r=new c([1],0),e=0;e<t;e++)r=r.multiply(new c([1,i.gexp(e)],0));return r},getLengthInBits:function(t,r){if(1<=r&&10>r)switch(t){case 1:return 10;case 2:return 9;case e:return 8;case 8:return 8;default:throw Error("mode:"+t)}else if(27>r)switch(t){case 1:return 12;case 2:return 11;case e:return 16;case 8:return 10;default:throw Error("mode:"+t)}else if(41>r)switch(t){case 1:return 14;case 2:return 13;case e:return 16;case 8:return 12;default:throw Error("mode:"+t)}else throw Error("type:"+r)},getLostPoint:function(t){for(var r=t.getModuleCount(),e=0,o=0;o<r;o++)for(var i=0;i<r;i++){for(var n=0,s=t.isDark(o,i),h=-1;1>=h;h++)if(!(0>o+h||r<=o+h))for(var a=-1;1>=a;a++)0>i+a||r<=i+a||0==h&&0==a||s==t.isDark(o+h,i+a)&&n++;5<n&&(e+=3+n-5)}for(o=0;o<r-1;o++)for(i=0;i<r-1;i++)if(n=0,t.isDark(o,i)&&n++,t.isDark(o+1,i)&&n++,t.isDark(o,i+1)&&n++,t.isDark(o+1,i+1)&&n++,0==n||4==n)e+=3;for(o=0;o<r;o++)for(i=0;i<r-6;i++)t.isDark(o,i)&&!t.isDark(o,i+1)&&t.isDark(o,i+2)&&t.isDark(o,i+3)&&t.isDark(o,i+4)&&!t.isDark(o,i+5)&&t.isDark(o,i+6)&&(e+=40);for(i=0;i<r;i++)for(o=0;o<r-6;o++)t.isDark(o,i)&&!t.isDark(o+1,i)&&t.isDark(o+2,i)&&t.isDark(o+3,i)&&t.isDark(o+4,i)&&!t.isDark(o+5,i)&&t.isDark(o+6,i)&&(e+=40);for(i=n=0;i<r;i++)for(o=0;o<r;o++)t.isDark(o,i)&&n++;t=Math.abs(100*n/r/r-50)/5;return e+10*t}},i={glog:function(t){if(1>t)throw Error("glog("+t+")");return i.LOG_TABLE[t]},gexp:function(t){for(;0>t;)t+=255;for(;256<=t;)t-=255;return i.EXP_TABLE[t]},EXP_TABLE:Array(256),LOG_TABLE:Array(256)},t=0;8>t;t++)i.EXP_TABLE[t]=1<<t;for(t=8;256>t;t++)i.EXP_TABLE[t]=i.EXP_TABLE[t-4]^i.EXP_TABLE[t-5]^i.EXP_TABLE[t-6]^i.EXP_TABLE[t-8];for(t=0;255>t;t++)i.LOG_TABLE[i.EXP_TABLE[t]]=t;c.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var r=Array(this.getLength()+t.getLength()-1),e=0;e<this.getLength();e++)for(var o=0;o<t.getLength();o++)r[e+o]^=i.gexp(i.glog(this.get(e))+i.glog(t.get(o)));return new c(r,0)},mod:function(t){if(0>this.getLength()-t.getLength())return this;for(var r=i.glog(this.get(0))-i.glog(t.get(0)),e=Array(this.getLength()),o=0;o<this.getLength();o++)e[o]=this.get(o);for(o=0;o<t.getLength();o++)e[o]^=i.gexp(i.glog(t.get(o))+r);return new c(e,0).mod(t)}};l.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];l.getRSBlocks=function(t,r){var e=l.getRsBlockTable(t,r);if(void 0==e)throw Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+r);for(var o=e.length/3,i=[],n=0;n<o;n++)for(var s=e[3*n+0],h=e[3*n+1],a=e[3*n+2],u=0;u<s;u++)i.push(new l(h,a));return i};l.getRsBlockTable=function(t,r){switch(r){case 1:return l.RS_BLOCK_TABLE[4*(t-1)+0];case 0:return l.RS_BLOCK_TABLE[4*(t-1)+1];case 3:return l.RS_BLOCK_TABLE[4*(t-1)+2];case 2:return l.RS_BLOCK_TABLE[4*(t-1)+3]}};s.prototype={get:function(t){return 1==(this.buffer[Math.floor(t/8)]>>>7-t%8&1)},put:function(t,r){for(var e=0;e<r;e++)this.putBit(1==(t>>>r-e-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var r=Math.floor(this.length/8);this.buffer.length<=r&&this.buffer.push(0);t&&(this.buffer[r]|=128>>>this.length%8);this.length++}};"string"===typeof u&&(u={text:u});u=p.extend({},{render:"canvas",width:256,height:256,typeNumber:-1,correctLevel:2,background:"#ffffff",foreground:"#000000"},u);return this.each(function(){var t;if("canvas"==u.render){t=new f(u.typeNumber,u.correctLevel);t.addData(u.text);t.make();var r=document.createElement("canvas");r.width=u.width;r.height=u.height;for(var e=r.getContext("2d"),o=u.width/t.getModuleCount(),i=u.height/t.getModuleCount(),n=0;n<t.getModuleCount();n++)for(var s=0;s<t.getModuleCount();s++){e.fillStyle=t.isDark(n,s)?u.foreground:u.background;var h=Math.ceil((s+1)*o)-Math.floor(s*o),a=Math.ceil((n+1)*o)-Math.floor(n*o);e.fillRect(Math.round(s*o),Math.round(n*i),h,a)}}else{t=new f(u.typeNumber,u.correctLevel);t.addData(u.text);t.make();r=p("<table></table>").css("width",u.width+"px").css("height",u.height+"px").css("border","0px").css("border-collapse","collapse").css("background-color",u.background);e=u.width/t.getModuleCount();o=u.height/t.getModuleCount();for(i=0;i<t.getModuleCount();i++){n=p("<tr></tr>").css("height",o+"px").appendTo(r);for(s=0;s<t.getModuleCount();s++)p("<td></td>").css("width",e+"px").css("background-color",t.isDark(i,s)?u.foreground:u.background).appendTo(n)}}t=r;jQuery(t).appendTo(this)})}})(jQuery);(function o(i,n,s){function h(e,t){if(!n[e]){if(!i[e]){var r="function"==typeof require&&require;if(!t&&r)return r(e,!0);if(a)return a(e,!0);r=Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}r=n[e]={exports:{}};i[e][0].call(r.exports,function(t){var r=i[e][1][t];return h(r?r:t)},r,r.exports,o,i,n,s)}return n[e].exports}for(var a="function"==typeof require&&require,t=0;t<s.length;t++)h(s[t]);return h})({1:[function(t,r,e){if(!v)var v={map:function(t,e){var o={};return e?t.map(function(t,r){o.index=r;return e.call(o,t)}):t.slice()},naturalOrder:function(t,r){return t<r?-1:t>r?1:0},sum:function(t,o){var i={};return t.reduce(o?function(t,r,e){i.index=e;return t+o.call(i,r)}:function(t,r){return t+r},0)},max:function(t,r){return Math.max.apply(null,r?v.map(t,r):t)}};t=function(){function p(t,r,e){return(t<<2*g)+(r<<g)+e}function h(t){function r(){e.sort(t);o=!0}var e=[],o=!1;return{push:function(t){e.push(t);o=!1},peek:function(t){o||r();void 0===t&&(t=e.length-1);return e[t]},pop:function(){o||r();return e.pop()},size:function(){return e.length},map:function(t){return e.map(t)},debug:function(){o||r();return e}}}function c(t,r,e,o,i,n,s){this.r1=t;this.r2=r;this.g1=e;this.g2=o;this.b1=i;this.b2=n;this.histo=s}function a(){this.vboxes=new h(function(t,r){return v.naturalOrder(t.vbox.count()*t.vbox.volume(),r.vbox.count()*r.vbox.volume())})}function u(t){var r=Array(1<<3*g),e,o,i,n;t.forEach(function(t){o=t[0]>>d;i=t[1]>>d;n=t[2]>>d;e=p(o,i,n);r[e]=(r[e]||0)+1});return r}function f(t,r){var e=1e6,o=0,i=1e6,n=0,s=1e6,h=0,a,u,f;t.forEach(function(t){a=t[0]>>d;u=t[1]>>d;f=t[2]>>d;a<e?e=a:a>o&&(o=a);u<i?i=u:u>n&&(n=u);f<s?s=f:f>h&&(h=f)});return new c(e,o,i,n,s,h,r)}function l(t,s){function r(t){var r=t+"1";t+="2";var e,o,i,n;o=0;for(f=s[r];f<=s[t];f++)if(a[f]>h/2){i=s.copy();n=s.copy();e=f-s[r];o=s[t]-f;for(e=e<=o?Math.min(s[t]-1,~~(f+o/2)):Math.max(s[r],~~(f-1-e/2));!a[e];)e++;for(o=u[e];!o&&a[e-1];)o=u[--e];i[t]=e;n[r]=i[t]+1;return[i,n]}}if(s.count()){var e=s.r2-s.r1+1,o=s.g2-s.g1+1,i=v.max([e,o,s.b2-s.b1+1]);if(1==s.count())return[s.copy()];var h=0,a=[],u=[],f,n,c,l,g;if(i==e)for(f=s.r1;f<=s.r2;f++){l=0;for(n=s.g1;n<=s.g2;n++)for(c=s.b1;c<=s.b2;c++)g=p(f,n,c),l+=t[g]||0;h+=l;a[f]=h}else if(i==o)for(f=s.g1;f<=s.g2;f++){l=0;for(n=s.r1;n<=s.r2;n++)for(c=s.b1;c<=s.b2;c++)g=p(n,f,c),l+=t[g]||0;h+=l;a[f]=h}else for(f=s.b1;f<=s.b2;f++){l=0;for(n=s.r1;n<=s.r2;n++)for(c=s.g1;c<=s.g2;c++)g=p(n,c,f),l+=t[g]||0;h+=l;a[f]=h}a.forEach(function(t,r){u[r]=h-t});return i==e?r("r"):i==o?r("g"):r("b")}}var g=5,d=8-g;c.prototype={volume:function(t){if(!this._volume||t)this._volume=(this.r2-this.r1+1)*(this.g2-this.g1+1)*(this.b2-this.b1+1);return this._volume},count:function(t){var r=this.histo;if(!this._count_set||t){t=0;var e,o,i;for(e=this.r1;e<=this.r2;e++)for(o=this.g1;o<=this.g2;o++)for(i=this.b1;i<=this.b2;i++)index=p(e,o,i),t+=r[index]||0;this._count=t;this._count_set=!0}return this._count},copy:function(){return new c(this.r1,this.r2,this.g1,this.g2,this.b1,this.b2,this.histo)},avg:function(t){var r=this.histo;if(!this._avg||t){t=0;var e=1<<8-g,o=0,i=0,n=0,s,h,a,u;for(h=this.r1;h<=this.r2;h++)for(a=this.g1;a<=this.g2;a++)for(u=this.b1;u<=this.b2;u++)s=p(h,a,u),s=r[s]||0,t+=s,o+=s*(h+.5)*e,i+=s*(a+.5)*e,n+=s*(u+.5)*e;this._avg=t?[~~(o/t),~~(i/t),~~(n/t)]:[~~(e*(this.r1+this.r2+1)/2),~~(e*(this.g1+this.g2+1)/2),~~(e*(this.b1+this.b2+1)/2)]}return this._avg},contains:function(t){var r=t[0]>>d;gval=t[1]>>d;bval=t[2]>>d;return r>=this.r1&&r<=this.r2&&gval>=this.g1&&gval<=this.g2&&bval>=this.b1&&bval<=this.b2}};a.prototype={push:function(t){this.vboxes.push({vbox:t,color:t.avg()})},palette:function(){return this.vboxes.map(function(t){return t.color})},size:function(){return this.vboxes.size()},map:function(t){for(var r=this.vboxes,e=0;e<r.size();e++)if(r.peek(e).vbox.contains(t))return r.peek(e).color;return this.nearest(t)},nearest:function(t){for(var r=this.vboxes,e,o,i,n=0;n<r.size();n++)if(o=Math.sqrt(Math.pow(t[0]-r.peek(n).color[0],2)+Math.pow(t[1]-r.peek(n).color[1],2)+Math.pow(t[2]-r.peek(n).color[2],2)),o<e||void 0===e)e=o,i=r.peek(n).color;return i},forcebw:function(){var t=this.vboxes;t.sort(function(t,r){return v.naturalOrder(v.sum(t.color),v.sum(r.color))});var r=t[0].color;5>r[0]&&5>r[1]&&5>r[2]&&(t[0].color=[0,0,0]);var r=t.length-1,e=t[r].color;251<e[0]&&251<e[1]&&251<e[2]&&(t[r].color=[255,255,255])}};return{quantize:function(t,r){function e(t,r){for(var e=1,o=0,i;1e3>o;)if(i=t.pop(),i.count()){var n=l(s,i);i=n[0];n=n[1];if(!i)break;t.push(i);n&&(t.push(n),e++);if(e>=r)break;if(1e3<o++)break}else t.push(i),o++}if(!t.length||2>r||256<r)return!1;var s=u(t),o=0;s.forEach(function(){o++});var i=f(t,s),n=new h(function(t,r){return v.naturalOrder(t.count(),r.count())});n.push(i);e(n,.75*r);for(i=new h(function(t,r){return v.naturalOrder(t.count()*t.volume(),r.count()*r.volume())});n.size();)i.push(n.pop());e(i,r-i.size());for(n=new a;i.size();)n.push(i.pop());return n}}}();r.exports=t.quantize},{}],2:[function(t,r,e){(function(){var c,l,r,g=function(t,r){return function(){return t.apply(r,arguments)}},s=[].slice;window.Swatch=l=function(){function t(t,r){this.rgb=t;this.population=r}t.prototype.hsl=void 0;t.prototype.rgb=void 0;t.prototype.population=1;t.yiq=0;t.prototype.getHsl=function(){return this.hsl?this.hsl:this.hsl=r.rgbToHsl(this.rgb[0],this.rgb[1],this.rgb[2])};t.prototype.getPopulation=function(){return this.population};t.prototype.getRgb=function(){return this.rgb};t.prototype.getHex=function(){return"#"+(16777216+(this.rgb[0]<<16)+(this.rgb[1]<<8)+this.rgb[2]).toString(16).slice(1,7)};t.prototype.getTitleTextColor=function(){this._ensureTextColors();return 200>this.yiq?"#fff":"#000"};t.prototype.getBodyTextColor=function(){this._ensureTextColors();return 150>this.yiq?"#fff":"#000"};t.prototype._ensureTextColors=function(){if(!this.yiq)return this.yiq=(299*this.rgb[0]+587*this.rgb[1]+114*this.rgb[2])/1e3};return t}();window.Vibrant=r=function(){function r(t,r,e){this.swatches=g(this.swatches,this);var o,i,n,s,h,a,u,f;"undefined"===typeof r&&(r=64);"undefined"===typeof e&&(e=5);h=new c(t);u=h.getImageData().data;a=h.getPixelCount();t=[];for(s=0;s<a;)o=4*s,f=u[o+0],n=u[o+1],i=u[o+2],o=u[o+3],125<=o&&(250<f&&250<n&&250<i||t.push([f,n,i])),s+=e;this._swatches=this.quantize(t,r).vboxes.map(function(t){return function(t){return new l(t.color,t.vbox.count())}}(this));this.maxPopulation=this.findMaxPopulation;this.generateVarationColors();this.generateEmptySwatches();h.removeCanvas()}r.prototype.quantize=t("quantize");r.prototype._swatches=[];r.prototype.TARGET_DARK_LUMA=.26;r.prototype.MAX_DARK_LUMA=.45;r.prototype.MIN_LIGHT_LUMA=.55;r.prototype.TARGET_LIGHT_LUMA=.74;r.prototype.MIN_NORMAL_LUMA=.3;r.prototype.TARGET_NORMAL_LUMA=.5;r.prototype.MAX_NORMAL_LUMA=.7;r.prototype.TARGET_MUTED_SATURATION=.3;r.prototype.MAX_MUTED_SATURATION=.4;r.prototype.TARGET_VIBRANT_SATURATION=1;r.prototype.MIN_VIBRANT_SATURATION=.35;r.prototype.WEIGHT_SATURATION=3;r.prototype.WEIGHT_LUMA=6;r.prototype.WEIGHT_POPULATION=1;r.prototype.VibrantSwatch=void 0;r.prototype.MutedSwatch=void 0;r.prototype.DarkVibrantSwatch=void 0;r.prototype.DarkMutedSwatch=void 0;r.prototype.LightVibrantSwatch=void 0;r.prototype.LightMutedSwatch=void 0;r.prototype.HighestPopulation=0;r.prototype.generateVarationColors=function(){this.VibrantSwatch=this.findColorVariation(this.TARGET_NORMAL_LUMA,this.MIN_NORMAL_LUMA,this.MAX_NORMAL_LUMA,this.TARGET_VIBRANT_SATURATION,this.MIN_VIBRANT_SATURATION,1);this.LightVibrantSwatch=this.findColorVariation(this.TARGET_LIGHT_LUMA,this.MIN_LIGHT_LUMA,1,this.TARGET_VIBRANT_SATURATION,this.MIN_VIBRANT_SATURATION,1);this.DarkVibrantSwatch=this.findColorVariation(this.TARGET_DARK_LUMA,0,this.MAX_DARK_LUMA,this.TARGET_VIBRANT_SATURATION,this.MIN_VIBRANT_SATURATION,1);this.MutedSwatch=this.findColorVariation(this.TARGET_NORMAL_LUMA,this.MIN_NORMAL_LUMA,this.MAX_NORMAL_LUMA,this.TARGET_MUTED_SATURATION,0,this.MAX_MUTED_SATURATION);this.LightMutedSwatch=this.findColorVariation(this.TARGET_LIGHT_LUMA,this.MIN_LIGHT_LUMA,1,this.TARGET_MUTED_SATURATION,0,this.MAX_MUTED_SATURATION);return this.DarkMutedSwatch=this.findColorVariation(this.TARGET_DARK_LUMA,0,this.MAX_DARK_LUMA,this.TARGET_MUTED_SATURATION,0,this.MAX_MUTED_SATURATION)};r.prototype.generateEmptySwatches=function(){var t;void 0===this.VibrantSwatch&&void 0!==this.DarkVibrantSwatch&&(t=this.DarkVibrantSwatch.getHsl(),t[2]=this.TARGET_NORMAL_LUMA,this.VibrantSwatch=new l(r.hslToRgb(t[0],t[1],t[2]),0));if(void 0===this.DarkVibrantSwatch&&void 0!==this.VibrantSwatch)return t=this.VibrantSwatch.getHsl(),t[2]=this.TARGET_DARK_LUMA,this.DarkVibrantSwatch=new l(r.hslToRgb(t[0],t[1],t[2]),0)};r.prototype.findMaxPopulation=function(){var t,r,e,o,i;e=0;o=this._swatches;t=0;for(r=o.length;t<r;t++)i=o[t],e=Math.max(e,i.getPopulation());return e};r.prototype.findColorVariation=function(t,r,e,o,i,n){var s,h,a,u,f,c,l,g;u=void 0;f=0;c=this._swatches;s=0;for(h=c.length;s<h;s++)if(g=c[s],l=g.getHsl()[1],a=g.getHsl()[2],l>=i&&l<=n&&a>=r&&a<=e&&!this.isAlreadySelected(g)&&(a=this.createComparisonValue(l,o,a,t,g.getPopulation(),this.HighestPopulation),void 0===u||a>f))u=g,f=a;return u};r.prototype.createComparisonValue=function(t,r,e,o,i,n){return this.weightedMean(this.invertDiff(t,r),this.WEIGHT_SATURATION,this.invertDiff(e,o),this.WEIGHT_LUMA,i/n,this.WEIGHT_POPULATION)};r.prototype.invertDiff=function(t,r){return 1-Math.abs(t-r)};r.prototype.weightedMean=function(){var t,r,e,o,i,n;i=1<=arguments.length?s.call(arguments,0):[];for(t=e=r=0;t<i.length;)o=i[t],n=i[t+1],r+=o*n,e+=n,t+=2;return r/e};r.prototype.swatches=function(){return{Vibrant:this.VibrantSwatch,Muted:this.MutedSwatch,DarkVibrant:this.DarkVibrantSwatch,DarkMuted:this.DarkMutedSwatch,LightVibrant:this.LightVibrantSwatch,LightMuted:this.LightMuted}};r.prototype.isAlreadySelected=function(t){return this.VibrantSwatch===t||this.DarkVibrantSwatch===t||this.LightVibrantSwatch===t||this.MutedSwatch===t||this.DarkMutedSwatch===t||this.LightMutedSwatch===t};r.rgbToHsl=function(t,r,e){var o,i,n,s,h;t/=255;r/=255;e/=255;s=Math.max(t,r,e);h=Math.min(t,r,e);i=void 0;n=(s+h)/2;if(s===h)i=h=0;else{o=s-h;h=.5<n?o/(2-s-h):o/(s+h);switch(s){case t:i=(r-e)/o+(r<e?6:0);break;case r:i=(e-t)/o+2;break;case e:i=(t-r)/o+4}i/=6}return[i,h,n]};r.hslToRgb=function(t,r,e){var o,i,n;o=i=n=void 0;o=function(t,r,e){0>e&&(e+=1);1<e&&(e-=1);return e<1/6?t+6*(r-t)*e:.5>e?r:e<2/3?t+(r-t)*(2/3-e)*6:t};0===r?n=i=o=e:(r=.5>e?e*(1+r):e+r-e*r,e=2*e-r,n=o(e,r,t+1/3),i=o(e,r,t),o=o(e,r,t-1/3));return[255*n,255*i,255*o]};return r}();window.CanvasImage=c=function(){function t(t){this.canvas=document.createElement("canvas");this.context=this.canvas.getContext("2d");document.body.appendChild(this.canvas);this.width=this.canvas.width=t.width;this.height=this.canvas.height=t.height;this.context.drawImage(t,0,0,this.width,this.height)}t.prototype.clear=function(){return this.context.clearRect(0,0,this.width,this.height)};t.prototype.update=function(t){return this.context.putImageData(t,0,0)};t.prototype.getPixelCount=function(){return this.width*this.height};t.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)};t.prototype.removeCanvas=function(){return this.canvas.parentNode.removeChild(this.canvas)};return t}()}).call(this)},{quantize:1}]},{},[2]);
//rebuild by neat 